<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Card Entry</title>
    <script src="{{ url_for('static', filename='audio.js') }}"></script>
    <style>.hidden { display: none; }</style>
</head>
<body>
<main>
    <h1 id="card-header">Card Entry</h1>
    <p id="card-error" class="{% if not error %}hidden{% endif %}" style="color:red;" aria-live="polite">
        {{ error if error else '' }}
    </p>

    <form action="/card" method="post">
        <label for="card_number">Card Number:</label>
        <input type="text" id="card_number" name="card_number" maxlength="10" required aria-required="true">
        <button type="submit" id="card-submit-btn" aria-label="Submit card number">Submit</button>
    </form>
</main>

<script>
window.onload = () => {
    speakSequence([
        "Please enter your ten-digit card number.",
        "Then press Submit."
    ]);
    speakLive("card-error"); // Only speaks if error exists
};
</script>

</body>
</html>
