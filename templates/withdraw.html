<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Withdraw Cash</title>
    <script src="{{ url_for('static', filename='audio.js') }}"></script>
    <style>.hidden { display: none; }</style>
</head>
<body>
<main>
    <h1 id="withdraw-header">Withdraw Cash</h1>
    <p id="withdraw-status" class="{% if not message %}hidden{% endif %}" aria-live="polite">
        {{ message if message else '' }}
    </p>

    <form action="/withdraw" method="post">
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" min="1" required aria-required="true">
        <button type="submit" id="withdraw-submit-btn" aria-label="Submit withdrawal amount">Submit</button>
    </form>

    <form action="/menu" method="get">
        <button type="submit" id="withdraw-menu-btn" aria-label="Return to menu">Return to Menu</button>
    </form>
</main>

<script>
window.onload = () => {
    speakSequence([
        { id: "withdraw-header" },
        { text: "Enter the amount you wish to withdraw." },
        { id: "withdraw-status" } // Speak message if present
    ]);

    // Submit on Enter key
    document.getElementById("amount").addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
            document.getElementById("withdraw-submit-btn").click();
        }
    });

    // Speak when submit button is clicked
    document.getElementById("withdraw-submit-btn").addEventListener("click", function() {
        speak("Submitting withdrawal amount");
    });

    // Speak when Return to Menu button is clicked
    document.getElementById("withdraw-menu-btn").addEventListener("click", function() {
        speak("Returning to main menu");
    });
};
</script>
</body>
</html>
